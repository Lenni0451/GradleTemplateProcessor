plugins {
    id "java-gradle-plugin"
    id "base.java"
    id "base.checkstyle"
    id "base.plugin_publish"
    alias libs.plugins.pluginPublish
    id "publishing.reposilite"
    id "extra.fill_build_constants"
    alias libs.plugins.classTokenReplacer
}

gradlePlugin {
    website = "https://github.com/" + rootProject.github_repo
    vcsUrl = "https://github.com/" + rootProject.github_repo
    plugins {
        templateprocessor {
            id = "net.lenni0451.template-processor"
            implementationClass = "net.lenni0451.templateprocessor.TemplateProcessorPlugin"
            displayName = project.maven_name ?: rootProject.maven_name
            description = rootProject.maven_description
            tags.addAll("template processor", "template", "mustache")
        }
    }
}

dependencies {
    api libs.bundles.trimou

    compileOnly libs.findbugs
    compileOnly libs.jetbrainsAnnotations
    compileOnly libs.lombok
    annotationProcessor libs.lombok
}
